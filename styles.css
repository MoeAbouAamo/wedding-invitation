  :root{
    --cream: #F7F1E6;
    --champagne: #D6B46B;
    --gold-soft: #F2E6C9;
    --charcoal: #1F1F1F;
    --warm-gray: #6E665A;
    --glass: rgba(255,255,255,0.10);
    --overlay: rgba(0,0,0,0.35);

    --font-head: "Playfair Display", serif;
    --font-body: "Inter", sans-serif;
    --font-ar: "Noto Naskh Arabic", serif;
  }

  *{ box-sizing: border-box; }
  html{ scroll-behavior: smooth; }

  body{
    margin:0;
    color: var(--charcoal);
    background: radial-gradient(1200px 800px at 50% 0%, #ffffff 0%, var(--cream) 60%, #efe5d3 100%);
    font-family: var(--font-body);
    overflow-x:hidden;
  }

  /* =========================
    Background revealed after opening
    ========================= */
  .bg{
    position: fixed;
    inset: 0;
    z-index: -2;

    background-image: url("assets/couple.jpg");
    background-size: contain;
    background-color: #ffffff;
    background-position: center 25%;
    background-repeat: no-repeat;

    filter: grayscale(100%) brightness(0.8);
    opacity: 0;
    transition: opacity 700ms ease;
  }
  body.opened .bg{ opacity: 1; }

  .bgOverlay{
    position: fixed;
    inset: 0;
    background: linear-gradient(180deg, rgba(0,0,0,0.35), rgba(0,0,0,0.10));
    opacity: 0;
    transition: opacity 900ms ease;
    z-index: 1;
  }
  body.opened .bgOverlay{ opacity: 1; }

  /* =========================
    Top bar
    ========================= */
  .topBar{
    position: fixed;
    top: 14px;
    left: 50%;
    transform: translateX(-50%);
    width: min(980px, calc(100% - 24px));
    display: flex;
    justify-content: flex-end;
    gap: 10px;
    z-index: 50;
    pointer-events: none;
  }
  .chip{
    pointer-events: auto;
    border: 1px solid rgba(214,180,107,0.55);
    background: rgba(255,255,255,0.25);
    backdrop-filter: blur(10px);
    color: #111;
    padding: 10px 12px;
    border-radius: 999px;
    font-family: var(--font-body);
    letter-spacing: .02em;
    cursor: pointer;
    transition: transform 200ms ease, background 200ms ease;
  }
  .chip:hover{
    transform: translateY(-1px);
    background: rgba(255,255,255,0.35);
  }

  /* =========================
    Start Screen
    ========================= */
  .startScreen{
    position: fixed;
    inset: 0;
    background: radial-gradient(1200px 800px at 50% 0%, #ffffff 0%, #F7F1E6 100%);
    display: grid;
    place-items: center;
    z-index: 999;
    transition: opacity 900ms ease;
  }
  .startInner{
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  .startNames{
    font-family: "Cinzel", serif;
    font-size: 52px;
    font-weight: 500;
    letter-spacing: .12em;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    margin: 0;
    color: #1F1F1F;
  }
  .nameTop, .nameBottom{ display:block; }
  .startNames .amp{
    font-family: "Playfair Display", serif;
    font-size: 38px;
    font-weight: 500;
    color: #D6B46B;
  }
  .startSub{
    font-size: 18px;
    opacity: .65;
    margin-top: 22px;
    letter-spacing: .06em;
    font-family: "Playfair Display", serif;
    color: rgba(31, 31, 31, 0.65);
  }
  .startBtn{
    margin-top: 36px;
    padding: 14px 50px;
    border-radius: 50px;
    border: 1.5px solid #D6B46B;
    background: transparent;
    font-family: "Cinzel", serif;
    cursor: pointer;
    font-size: 16px;
    transition: all 350ms ease;
    letter-spacing: .12em;
    color: #1F1F1F;
  }
  .startBtn:hover{
    background: linear-gradient(135deg, #D6B46B, #F2E6C9);
    box-shadow: 0 10px 25px rgba(214,180,107,0.35);
  }
  body.started .startScreen{
    opacity: 0;
    pointer-events: none;
  }

  /* =========================
    Hero
    ========================= */
  .hero{
    min-height: 100vh;
    display: grid;
    place-items: center;
    position: relative;
    z-index: 5;

    opacity: 0;
    pointer-events: none;
    transition: opacity 800ms ease;
    padding: 40px 0;
  }
  body.started .hero{
    opacity: 1;
    pointer-events: auto;
  }

  .envelopeStage{
    width: min(920px, 100%);
    display: grid;
    place-items: center;
    position: relative;
    transform: translateY(-40px);
  }

  /* Base creamy paper */
  .envelope--classic .envBack{
    position:absolute;
    inset:0;
    background:
      radial-gradient(1200px 900px at 50% 0%, rgba(255,255,255,0.72), rgba(247,241,230,0.55)),
      linear-gradient(180deg, #f7f1e6 0%, #efe4d2 100%);
  }

  /* Subtle crease lines (NO triangle fills) */
  .envelope--classic .envBack::before{
    content:"";
    position:absolute;
    inset:0;
    background:
      linear-gradient(135deg, transparent 48%, rgba(0,0,0,0.06) 50%, transparent 52%),
      linear-gradient(225deg, transparent 48%, rgba(0,0,0,0.06) 50%, transparent 52%);
    opacity:.28;
    pointer-events:none;
  }

  /* IMPORTANT: Remove weird triangles permanently */
  .envelope--classic .flap.left,
  .envelope--classic .flap.right,
  .envelope--classic .flap.bottom{
    display:none !important;
  }

  /* TOP FLAP base state (MUST exist before animation) */
  .envelope--classic .flap.backTop{
    position:absolute !important;
    top:0 !important;
    left:0 !important;
    width:100% !important;
    height:50% !important;

    background: #f7f1e6 !important;
    clip-path: polygon(0 0, 100% 0, 50% 100%) !important;

    transform-origin: top !important;
    transform: rotateX(0deg) !important;

    opacity: 1 !important;              /* âœ… visible before click */
    z-index: 6 !important;

    backface-visibility: hidden !important;
    will-change: transform;
  }
  /* On click: flap opens slowly (3 seconds) */
  body.opening .envelope--classic .flap.backTop{
    opacity: 1 !important;
    animation: flapOpen3s 2000ms cubic-bezier(.18,.85,.22,1) forwards !important;
  }

  @keyframes flapOpen3s{
    0%   { transform: rotateX(0deg); }
    100% { transform: rotateX(-145deg); }
  }

  /* Fade the envelope away within ~3s */
  body.opening .envelope--classic{
    animation: envFade3s 450ms ease forwards !important;
    animation-delay: 1550ms !important; /* fade near end of 3s */
  }
  @keyframes envFade3s{
    to{ opacity:0; transform: translateY(-10px) scale(0.985); pointer-events:none; }
  }

  body.lang-ar .envelope--classic .tapText .en{ display:none; }
  body.lang-ar .envelope--classic .tapText .ar{ display:inline; }

  /* =========================
    SEAL (your new seal code, scoped)
    NOTE: your HTML currently has <span class="seal"></span>
    We style BOTH .seal and .wax-seal so it works immediately.
    ========================= */

  /* Apply the wax look to your existing .seal span */
  .envelope--classic .seal,
  .envelope--classic .wax-seal{
    width: 150px;
    height: 150px;
    background: #f1d5a5;
    border-radius: 52% 48% 55% 45% / 48% 54% 46% 52%;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow:
      inset 4px 4px 8px rgba(255, 255, 255, 0.4),
      inset -4px -4px 8px rgba(0, 0, 0, 0.2),
      4px 8px 15px rgba(0, 0, 0, 0.15);
      background: radial-gradient(circle at 30% 30%, #f7e3c1, #f1d5a5 70%);
  }

  /* Inner stamp works if you add .seal-inner inside (optional) */
  .envelope--classic .seal-inner{
    width: 110px;
    height: 110px;
    border-radius: 50%;
    border: 2px solid rgba(0, 0, 0, 0.05);
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    box-shadow: inset 2px 2px 5px rgba(0, 0, 0, 0.2), inset -2px -2px 5px rgba(2555, 255, 255, 0.5)
  }
  .envelope--classic .seal-inner p{
    color: #d4b581;
    font-family: Georgia, serif;
    font-weight: bold;
    line-height: 1.1;
    font-size: 0.8em;
    margin: 0;
    text-transform: uppercase;
    letter-spacing: 1px;
    text-shadow: 1px 1px 1px rgba(255, 255, 255, 0.6), -1px -1px 1px rgba(0, 0, 0, 0.2);
  }
  .envelope--classic .seal-inner span{
    font-family: "Brush Script MT", cursive;
    text-transform: lowercase;
    font-size: 1.4rem;
    display: block;
    color: #d4b581;
    margin-top: -5px;
    text-shadow: 1px 1px 1px rgba(255, 255, 255, 0.6), -1px -1px 1px rgba(0, 0, 0, 0.2);
  }

  /* Seal press effect when opening */
  body.opening .envelope--classic .seal,
  body.opening .envelope--classic .wax-seal{
    animation: sealPressClean 650ms ease-out forwards;
  }
  @keyframes sealPressClean{
    0%{ transform: scale(1); }
    55%{ transform: scale(0.92); }
    100%{ transform: scale(1.02); }
  }

  /* =========================
    INVITATION CARD
    ========================= */
  .card{
    border-radius: 20px;
    background: rgba(255,255,255,0.78);
    backdrop-filter: blur(8px);
    border: 1px solid rgba(214,180,107,0.45);
    box-shadow: 0 18px 50px rgba(0,0,0,0.18);
    overflow: hidden;
  }
  .inviteCard{
    width: min(520px, 92vw);
    margin-top: 18px;
    opacity: 0;
    transform: translateY(18px);
    pointer-events: none;
    transition: opacity 700ms ease, transform 700ms ease;
    position: relative;
    z-index: 12;
  }
  body.opened .inviteCard{
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
  }
  .cardInner{
    padding: 26px 26px 28px;
    display: grid;
    gap: 14px;
    align-content: start;
  }
  .monogram{
    font-family: var(--font-head);
    letter-spacing: .14em;
    font-size: 14px;
    color: rgba(31,31,31,0.70);
  }
  .monogram span{ color: var(--champagne); font-weight: 600; }

  .namesBlock{
    text-align: center;
    margin-top: 4px;
  }
  .namesBlock .name{
    font-family: var(--font-head);
    letter-spacing: .08em;
    font-size: 30px;
    text-transform: uppercase;
  }
  .namesBlock .amp{
    font-family: var(--font-head);
    color: var(--champagne);
    font-size: 26px;
    margin: 6px 0;
  }

  .inviteText p{
    font-family: "Playfair Display", serif;
    margin: 0;
    text-align: center;
    line-height: 1.5;
    font-size: 18px;
    color: rgba(31,31,31,0.82);
  }
  .inviteText .ar{
    font-family: var(--font-ar);
    font-size: 22px;
  }

  .divider{
    height: 1px;
    width: 70%;
    justify-self: center;
    background: linear-gradient(90deg, transparent, rgba(214,180,107,0.75), transparent);
    margin-top: 2px;
  }

  .scrollHint{
    text-align: center;
    font-size: 14px;
    color: rgba(31,31,31,0.70);
    display: grid;
    gap: 6px;
    justify-items: center;
  }
  .scrollHint .ar{ font-family: var(--font-ar); }
  .chev{
    width: 14px;
    height: 14px;
    border-right: 1.5px solid rgba(31,31,31,0.65);
    border-bottom: 1.5px solid rgba(31,31,31,0.65);
    transform: rotate(45deg);
    animation: bob 1.4s ease-in-out infinite;
  }
  @keyframes bob{
    0%,100%{ transform: rotate(45deg) translate(0,0); opacity: .75;}
    50%{ transform: rotate(45deg) translate(0,4px); opacity: 1;}
  }

  /* =========================================================
    SECTIONS
    ========================================================= */
  .section{
    position: relative;
    z-index: 10;
    padding: 70px 14px;
  }
  .container{
    width: min(980px, 100%);
    margin: 0 auto;
  }
  .sectionTitle{
    font-family: var(--font-head);
    letter-spacing: .08em;
    text-transform: uppercase;
    font-size: 18px;
    color: rgba(255,255,255,0.92);
    margin: 0 0 18px;
    text-shadow: 0 18px 60px rgba(0,0,0,0.45);
  }
  .sectionTitle .ar{
    display:block;
    margin-top: 8px;
    font-family: var(--font-ar);
    letter-spacing: 0;
    text-transform: none;
  }

  .cards{
    display: grid;
    grid-template-columns: repeat(2, minmax(0,1fr));
    gap: 14px;
  }
  .infoCard{
    background: rgba(255,255,255,0.16);
    border: 1px solid rgba(214,180,107,0.28);
    backdrop-filter: blur(10px);
    border-radius: 18px;
    padding: 18px 18px 16px;
    box-shadow: 0 20px 60px rgba(0,0,0,0.15);
    color: rgba(255,255,255,0.92);
  }
  .infoCard h3{
    margin: 0 0 8px;
    font-family: var(--font-head);
    letter-spacing: .06em;
    text-transform: uppercase;
    font-size: 16px;
  }
  .infoCard h3 .ar{
    display:block;
    margin-top: 6px;
    font-family: var(--font-ar);
    letter-spacing: 0;
    text-transform: none;
  }
  .infoCard p{
    margin: 0 0 10px;
    line-height: 1.5;
    font-size: 16px;
  }
  .muted{ opacity: .85; }
  .tiny{ font-size: 13px; }

  /* Location */
  .locationGrid{
    display: grid;
    grid-template-columns: 1fr 1.2fr;
    gap: 14px;
    align-items: stretch;
  }
  .mapWrap{
    border-radius: 18px;
    overflow: hidden;
    border: 1px solid rgba(214,180,107,0.28);
    background: rgba(255,255,255,0.16);
    backdrop-filter: blur(10px);
    box-shadow: 0 20px 60px rgba(0,0,0,0.15);
    min-height: 260px;
  }
  .mapWrap iframe{
    width: 100%;
    height: 100%;
    border: 0;
    min-height: 260px;
  }

  /* RSVP */
  .rsvpForm{
    display: grid;
    gap: 10px;
    background: rgba(255,255,255,0.16);
    border: 1px solid rgba(214,180,107,0.28);
    backdrop-filter: blur(10px);
    border-radius: 14px;
    padding: 14px;
    box-shadow: 0 20px 60px rgba(0,0,0,0.15);
    color: rgba(255,255,255,0.92);
  }
  .row{
    display: grid;
    grid-template-columns: 1fr 130px;
    gap: 10px;
  }
  label{
    display: grid;
    gap: 8px;
    font-size: 14px;
  }
  label .ar{ font-family: var(--font-ar); }
  label.wide{ grid-column: 1 / -1; }
  input, select{
    width: 100%;
    padding: 12px 12px;
    border-radius: 12px;
    border: 1px solid rgba(214,180,107,0.35);
    background: rgba(255,255,255,0.22);
    color: rgba(255,255,255,0.95);
    outline: none;
  }
  input::placeholder{ color: rgba(255,255,255,0.70); }
  select option{ color: #111; }

  .btn{
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 12px 14px;
    border-radius: 999px;
    border: 1px solid rgba(214,180,107,0.60);
    background: rgba(214,180,107,0.20);
    color: rgba(255,255,255,0.95);
    text-decoration: none;
    cursor: pointer;
    transition: transform 200ms ease, background 200ms ease;
    width: fit-content;
  }
  .btn:hover{ transform: translateY(-1px); background: rgba(214,180,107,0.28); }
  .btn.primary{
    width: 100%;
    background: linear-gradient(135deg, rgba(214,180,107,0.30), rgba(242,230,201,0.22));
  }
  .formMsg{ margin: 0; font-size: 14px; }

  /* Footer */
  .footer{
    padding: 38px 14px 60px;
    position: relative;
    z-index: 10;
  }
  .footerLine{
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(214,180,107,0.65), transparent);
    margin-bottom: 14px;
  }

  /* Language toggling */
  .ar{ display: none; }
  body.lang-ar .en{ display: none; }
  body.lang-ar .ar{ display: inline; }
  body.lang-ar p.ar{ display: block; }

  /* Responsive */
  @media (max-width: 820px){
    .cards{ grid-template-columns: 1fr; }
    .locationGrid{ grid-template-columns: 1fr; }
    .row{ grid-template-columns: 1fr; }
  }

  /* =========================================================
    SCRATCH
    ========================================================= */
  .hidden{ display:none; }

  .scratchBlock{
    margin-top: 10px;
    display: grid;
    gap: 10px;
    justify-items: center;
  }
  .scratchTitle{
    font-family: var(--font-head);
    letter-spacing: .10em;
    text-transform: uppercase;
    font-size: 18px;
    color: rgba(31,31,31,0.80);
  }
  .scratchTitle .ar{
    font-family: var(--font-ar);
    text-transform: none;
    letter-spacing: 0;
  }
  .scratchSub{
    font-size: 13px;
    color: rgba(31,31,31,0.70);
    text-align: center;
  }
  .scratchRow{
    display: grid;
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap: 14px;
    width: 100%;
    justify-items: center;
    align-items: start;
  }
  .scratchItem{
    width: 150px;
    display: grid;
    justify-items: center;
    gap: 0;
    position: relative;
  }
  .scratchValue{
    position: absolute;
    top: 0;
    width: 140px;
    height: 140px;
    border-radius: 999px;
    display: grid;
    place-items: center;
    background: rgba(255,255,255,0.55);
    border: 1px solid rgba(214,180,107,0.35);
    box-shadow: inset 0 0 0 1px rgba(242,230,201,0.20);
    pointer-events: none;
  }
  .scratchValue .val{
    font-family: var(--font-head);
    letter-spacing: .10em;
    text-transform: uppercase;
    color: rgba(31,31,31,0.85);
    opacity: 0;
    transform: translateY(2px);
    transition: opacity 350ms ease, transform 350ms ease;
  }
  .scratchItem.done .scratchValue .val{
    opacity: 1;
    transform: translateY(0);
  }
  .scratchCanvas{
    width: 140px;
    height: 140px;
    border-radius: 999px;
    display: block;
    touch-action: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: pointer;
    box-shadow: 0 14px 35px rgba(0,0,0,0.14);
    background: transparent;
  }
  .scratchFinal{
    margin-top: 6px;
    font-size: 13px;
    color: rgba(31,31,31,0.70);
    text-align: center;
  }
  @media (max-width: 520px){
    .scratchRow{ grid-template-columns: 1fr; }
  }

  /* =========================================================
    Gift registry (your section)
    ========================================================= */
  .giftRegistry{
    margin: 50px 0;
    text-align: center;
  }
  .giftText{
    max-width: 600px;
    margin: 0 auto 20px;
    font-size: 15px;
    line-height: 1.8;
    color: #6b5a44;
  }
  .giftAccount{
    display: inline-block;
    padding: 10px 22px;
    border-radius: 30px;
    background: linear-gradient(145deg, #e6c58c, #b8863b);
    color: white;
    font-weight: 600;
    letter-spacing: 1px;
    box-shadow: 0 6px 16px rgba(0,0,0,0.15);
  }
  .giftLink{
    color: inherit;
    text-decoration: none;
    display: inline-block;
  }
  .giftAccount:hover{ transform: translateY(-1px); }

  /* =========================================================
    FINAL ENVELOPE OVERRIDE (uses your CURRENT HTML)
    Paste THIS at the VERY END of styles.css
    ========================================================= */

  /* 1) Main Envelope Body (override your existing one) */
  .envelope.envelope--classic{
    width: min(480px, 92vw) !important;
    height: min(650px, 130vw) !important;
    background-color: #fdfaf5 !important;
    border-radius: 12px !important;
    box-shadow: 0 20px 50px rgba(0,0,0,0.15) !important;
    perspective: 1500px !important;
    overflow: hidden !important;

    /* X fold lines */
    background-image:
      linear-gradient(135deg, transparent 49.8%, rgba(0,0,0,0.04) 50%, transparent 50.2%),
      linear-gradient(225deg, transparent 49.8%, rgba(0,0,0,0.04) 50%, transparent 50.2%) !important;
  }

  /* Keep your creamy base too (envBack exists in your HTML) */
  .envelope--classic .envBack{
    position:absolute !important;
    inset:0 !important;
    background:
      radial-gradient(1200px 900px at 50% 0%, rgba(255,255,255,0.72), rgba(247,241,230,0.55)),
      linear-gradient(180deg, #fdfaf5 0%, #f6efe2 100%) !important;
  }

  /* 2) Remove the weird triangles (you already do this, keep it hard) */
  .envelope--classic .flap.left,
  .envelope--classic .flap.right,
  .envelope--classic .flap.bottom{
    display:none !important;
  }

  /* 3) Top Flap (your HTML uses .flap.backTop, so we style THAT) */
  .envelope--classic .flap.backTop{
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 50% !important;

    background: #fdfaf5 !important;

    /* triangle/trapezoid fold look */
    clip-path: polygon(0 0, 100% 0, 50% 100%) !important;

    z-index: 4 !important;
    transform-origin: top !important;
    transform: rotateX(0deg) !important;

    /* IMPORTANT: visible when closed (so it doesn't "appear from nowhere") */
    opacity: 1 !important;

    backface-visibility: hidden !important;
    box-shadow: 0 5px 15px rgba(0,0,0,0.05) !important;

    /* smooth open */
    transition: transform 3000ms cubic-bezier(0.4, 0, 0.2, 1) !important;
  }

  /* Open animation trigger */
  body.opening .envelope--classic .flap.backTop{
    transform: rotateX(-160deg) !important;
  }

  /* Fade envelope near end of 3 seconds */
  body.opening .envelope--classic{
    animation: envFade3s 600ms ease forwards !important;
    animation-delay: 2400ms !important;
  }
  @keyframes envFade3s{
    to{
      opacity:0;
      transform: translateY(-10px) scale(0.985);
      pointer-events:none;
    }
  }

  /* 4) Wax Seal (your HTML uses <span class="seal">, so style it like .wax-seal) */
  .envelope--classic .sealBtn{
    position: absolute !important;
    top: 50% !important;
    left: 50% !important;
    transform: translate(-50%, -50%) !important;
    z-index: 10 !important;
    background: none !important;
    border: none !important;
    cursor: pointer !important;
    padding: 0 !important;
    transition: transform 0.3s ease !important;
  }
  .envelope--classic .sealBtn:hover{
    transform: translate(-50%, -52%) scale(1.05) !important;
  }

  .envelope--classic .seal{
    width: 110px !important;
    height: 110px !important;
    background: radial-gradient(circle at 30% 30%, #f7e3c1, #f1d5a5 70%) !important;
    border-radius: 52% 48% 55% 45% / 48% 54% 46% 52% !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    box-shadow:
      inset 2px 2px 5px rgba(255, 255, 255, 0.5),
      inset -2px -2px 5px rgba(0, 0, 0, 0.1),
      4px 10px 20px rgba(0, 0, 0, 0.2) !important;
  }

  /* optional press feedback */
  body.opening .envelope--classic .seal{
    animation: sealPressClean 650ms ease-out forwards;
  }
  @keyframes sealPressClean{
    0%{ transform: scale(1); }
    55%{ transform: scale(0.92); }
    100%{ transform: scale(1.02); }
  }

  /* 5) Tap text (your HTML already has .tapText inside envelope) */
  .envelope--classic .tapText{
    position: absolute !important;
    bottom: 20px !important;
    width: 100% !important;
    text-align: center !important;
    font-size: 10px !important;
    letter-spacing: 2px !important;
    color: #aaa !important;
    font-family: var(--font-body) !important;
    z-index: 12 !important;

  }
  /*Hide all sections */
  body:not(.opened) #details,
  body:not(.opened) #location,
  body:not(.opened) #gift,
  body:not(.opened) #rsvp,
  body:not(.opened) footer {
    display: none !important;
  }
